{"level":"info","ts":"2023-03-27T05:14:20Z","logger":"setup","msg":"Starting CloudNativePG Instance Manager","logging_pod":"cluster-example-1","version":"1.19.1","build":{"Version":"1.19.0+dev100","Commit":"ae4c6fda","Date":"2023-03-23"}}
{"level":"info","ts":"2023-03-27T05:14:20Z","logger":"setup","msg":"starting controller-runtime manager","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:20Z","msg":"Starting EventSource","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","source":"kind source: *v1.Cluster"}
{"level":"info","ts":"2023-03-27T05:14:20Z","msg":"Starting Controller","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster"}
{"level":"debug","ts":"2023-03-27T05:14:20Z","msg":"starting the postgres loop","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"debug","ts":"2023-03-27T05:14:20Z","msg":"starting signal loop","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"debug","ts":"2023-03-27T05:14:20Z","msg":"Checking PGDATA coherence","caller":"internal/cmd/manager/instance/run/lifecycle/run.go:255","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:20Z","msg":"Starting webserver","logging_pod":"cluster-example-1","address":":9187"}
{"level":"info","ts":"2023-03-27T05:14:20Z","logger":"roles_reconciler","msg":"starting up the runnable","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:20Z","msg":"Starting webserver","logging_pod":"cluster-example-1","address":"localhost:8010"}
{"level":"info","ts":"2023-03-27T05:14:20Z","logger":"roles_reconciler","msg":"setting up RoleSynchronizer loop","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:20Z","msg":"Starting webserver","logging_pod":"cluster-example-1","address":":8000"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Instance status probe failing","logging_pod":"cluster-example-1","err":"failed to connect to `host=/controller/run user=postgres database=postgres`: dial error (dial unix /controller/run/.s.PGSQL.5432: connect: no such file or directory)"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Starting workers","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","worker count":1}
{"level":"debug","ts":"2023-03-27T05:14:21Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8f1528b1-53bf-43b4-84f2-da929e5a9f69","uuid":"3b36d091-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-1","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T05:14:21Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8f1528b1-53bf-43b4-84f2-da929e5a9f69","uuid":"3b36d091-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Cluster status","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8f1528b1-53bf-43b4-84f2-da929e5a9f69","uuid":"3b36d091-cc5e-11ed-8f4e-ea6edfa0a5c5","logging_pod":"cluster-example-1","currentPrimary":"cluster-example-4","targetPrimary":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"This is an old primary instance, waiting for the switchover to finish","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8f1528b1-53bf-43b4-84f2-da929e5a9f69","uuid":"3b36d091-cc5e-11ed-8f4e-ea6edfa0a5c5","logging_pod":"cluster-example-1","currentPrimary":"cluster-example-4","targetPrimary":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Switchover completed","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8f1528b1-53bf-43b4-84f2-da929e5a9f69","uuid":"3b36d091-cc5e-11ed-8f4e-ea6edfa0a5c5","logging_pod":"cluster-example-1","targetPrimary":"cluster-example-4","currentPrimary":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Waiting for the new primary to be available","logging_pod":"cluster-example-1","primaryConnInfo":"host=cluster-example-rw user=streaming_replica port=5432 sslkey=/controller/certificates/streaming_replica.key sslcert=/controller/certificates/streaming_replica.crt sslrootcert=/controller/certificates/server-ca.crt application_name=cluster-example-1 sslmode=verify-ca dbname=postgres connect_timeout=5"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Extracting pg_controldata information","logging_pod":"cluster-example-1","reason":"before pg_rewind"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_controldata","msg":"pg_control version number:            1300\nCatalog version number:               202209061\nDatabase system identifier:           7214847947255496726\nDatabase cluster state:               shut down\npg_control last modified:             Mon 27 Mar 2023 05:13:58 AM UTC\nLatest checkpoint location:           0/1E000028\nLatest checkpoint's REDO location:    0/1E000028\nLatest checkpoint's REDO WAL file:    00000007000000000000001E\nLatest checkpoint's TimeLineID:       7\nLatest checkpoint's PrevTimeLineID:   7\nLatest checkpoint's full_page_writes: on\nLatest checkpoint's NextXID:          0:747\nLatest checkpoint's NextOID:          16391\nLatest checkpoint's NextMultiXactId:  1\nLatest checkpoint's NextMultiOffset:  0\nLatest checkpoint's oldestXID:        716\nLatest checkpoint's oldestXID's DB:   1\nLatest checkpoint's oldestActiveXID:  0\nLatest checkpoint's oldestMultiXid:   1\nLatest checkpoint's oldestMulti's DB: 1\nLatest checkpoint's oldestCommitTsXid:0\nLatest checkpoint's newestCommitTsXid:0\nTime of latest checkpoint:            Mon 27 Mar 2023 05:13:57 AM UTC\nFake LSN counter for unlogged rels:   0/3E8\nMinimum recovery ending location:     0/0\nMin recovery ending loc's timeline:   0\nBackup start location:                0/0\nBackup end location:                  0/0\nEnd-of-backup record required:        no\nwal_level setting:                    logical\nwal_log_hints setting:                on\nmax_connections setting:              100\nmax_worker_processes setting:         32\nmax_wal_senders setting:              10\nmax_prepared_xacts setting:           0\nmax_locks_per_xact setting:           64\ntrack_commit_timestamp setting:       off\nMaximum data alignment:               8\nDatabase block size:                  8192\nBlocks per segment of large relation: 131072\nWAL block size:                       8192\nBytes per WAL segment:                16777216\nMaximum length of identifiers:        64\nMaximum columns in an index:          32\nMaximum size of a TOAST chunk:        1996\nSize of a large-object chunk:         2048\nDate/time type storage:               64-bit integers\nFloat8 argument passing:              by value\nData page checksum version:           0\nMock authentication nonce:            c953465ac918c0a055d07bf03b41423f2d229db5472e9ce8be3b0d79d8a0498a\n","pipe":"stdout","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Starting up pg_rewind","logging_pod":"cluster-example-1","pgdata":"/var/lib/postgresql/data/pgdata","options":["-P","--source-server","host=cluster-example-rw user=streaming_replica port=5432 sslkey=/controller/certificates/streaming_replica.key sslcert=/controller/certificates/streaming_replica.crt sslrootcert=/controller/certificates/server-ca.crt application_name=cluster-example-1 sslmode=verify-ca dbname=postgres","--target-pgdata","/var/lib/postgresql/data/pgdata","--debug","--restore-target-wal"]}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: using for rewind restore_command = '/controller/manager wal-restore --log-destination /controller/log/postgres.json %f %p'","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: connected to server","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: fetched file \"global/pg_control\", length 8192","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: fetched file \"pg_wal/00000008.history\", length 298","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: Source timeline history:","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: Target timeline history:","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: 1: 0/0 - 0/90000A0","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: 2: 0/90000A0 - 0/B000C00","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: 3: 0/B000C00 - 0/100000A0","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: 4: 0/100000A0 - 0/12000000","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: 5: 0/12000000 - 0/190000A0","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: 6: 0/190000A0 - 0/1A0000A0","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: 7: 0/1A0000A0 - 0/0","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: servers diverged at WAL location 0/1E0000A0 on timeline 7","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_rewind","msg":"pg_rewind: no rewind required","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Demoting instance","logging_pod":"cluster-example-1","pgpdata":"/var/lib/postgresql/data/pgdata"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Extracting pg_controldata information","logging_pod":"cluster-example-1","reason":"postmaster start up"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"pg_controldata","msg":"pg_control version number:            1300\nCatalog version number:               202209061\nDatabase system identifier:           7214847947255496726\nDatabase cluster state:               shut down\npg_control last modified:             Mon 27 Mar 2023 05:13:58 AM UTC\nLatest checkpoint location:           0/1E000028\nLatest checkpoint's REDO location:    0/1E000028\nLatest checkpoint's REDO WAL file:    00000007000000000000001E\nLatest checkpoint's TimeLineID:       7\nLatest checkpoint's PrevTimeLineID:   7\nLatest checkpoint's full_page_writes: on\nLatest checkpoint's NextXID:          0:747\nLatest checkpoint's NextOID:          16391\nLatest checkpoint's NextMultiXactId:  1\nLatest checkpoint's NextMultiOffset:  0\nLatest checkpoint's oldestXID:        716\nLatest checkpoint's oldestXID's DB:   1\nLatest checkpoint's oldestActiveXID:  0\nLatest checkpoint's oldestMultiXid:   1\nLatest checkpoint's oldestMulti's DB: 1\nLatest checkpoint's oldestCommitTsXid:0\nLatest checkpoint's newestCommitTsXid:0\nTime of latest checkpoint:            Mon 27 Mar 2023 05:13:57 AM UTC\nFake LSN counter for unlogged rels:   0/3E8\nMinimum recovery ending location:     0/0\nMin recovery ending loc's timeline:   0\nBackup start location:                0/0\nBackup end location:                  0/0\nEnd-of-backup record required:        no\nwal_level setting:                    logical\nwal_log_hints setting:                on\nmax_connections setting:              100\nmax_worker_processes setting:         32\nmax_wal_senders setting:              10\nmax_prepared_xacts setting:           0\nmax_locks_per_xact setting:           64\ntrack_commit_timestamp setting:       off\nMaximum data alignment:               8\nDatabase block size:                  8192\nBlocks per segment of large relation: 131072\nWAL block size:                       8192\nBytes per WAL segment:                16777216\nMaximum length of identifiers:        64\nMaximum columns in an index:          32\nMaximum size of a TOAST chunk:        1996\nSize of a large-object chunk:         2048\nDate/time type storage:               64-bit integers\nFloat8 argument passing:              by value\nData page checksum version:           0\nMock authentication nonce:            c953465ac918c0a055d07bf03b41423f2d229db5472e9ce8be3b0d79d8a0498a\n","pipe":"stdout","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"The PID file content is wrong, deleting it and assuming it's stale","file":"/var/lib/postgresql/data/pgdata/postmaster.pid","logging_pod":"cluster-example-1","err":"file does not exist","pidFileContents":""}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Readiness probe failing","logging_pod":"cluster-example-1","err":"failed to connect to `host=/controller/run user=postgres database=postgres`: dial error (dial unix /controller/run/.s.PGSQL.5432: connect: no such file or directory)"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"2023-03-27 05:14:21.164 UTC [26] LOG:  redirecting log output to logging collector process","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"2023-03-27 05:14:21.164 UTC [26] HINT:  Future log output will appear in directory \"/controller/log\".","pipe":"stderr","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"2023-03-27 05:14:21.164 UTC [26] LOG:  ending log output to stderr","source":"/controller/log/postgres","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"2023-03-27 05:14:21.164 UTC [26] HINT:  Future log output will go to log destination \"csvlog\".","source":"/controller/log/postgres","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.164 UTC","process_id":"26","session_id":"6421262d.1a","session_line_num":"1","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"ending log output to stderr","hint":"Future log output will go to log destination \"csvlog\".","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.164 UTC","process_id":"26","session_id":"6421262d.1a","session_line_num":"2","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"starting PostgreSQL 15.2 (Debian 15.2-1.pgdg110+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 10.2.1-6) 10.2.1 20210110, 64-bit","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.164 UTC","process_id":"26","session_id":"6421262d.1a","session_line_num":"3","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"listening on IPv4 address \"0.0.0.0\", port 5432","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.164 UTC","process_id":"26","session_id":"6421262d.1a","session_line_num":"4","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"listening on IPv6 address \"::\", port 5432","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Instance is still down, will retry in 1 second","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8f1528b1-53bf-43b4-84f2-da929e5a9f69","uuid":"3b36d091-cc5e-11ed-8f4e-ea6edfa0a5c5","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.171 UTC","process_id":"26","session_id":"6421262d.1a","session_line_num":"5","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"listening on Unix socket \"/controller/run/.s.PGSQL.5432\"","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.178 UTC","process_id":"30","session_id":"6421262d.1e","session_line_num":"1","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"database system was shut down at 2023-03-27 05:13:58 UTC","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T05:14:21Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.290 UTC","user_name":"postgres","database_name":"postgres","process_id":"39","connection_from":"[local]","session_id":"6421262d.27","session_line_num":"1","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"57P03","message":"the database system is starting up","backend_type":"client backend","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","msg":"Instance status probe failing","logging_pod":"cluster-example-1","err":"failed to connect to `host=/controller/run user=postgres database=postgres`: server error (FATAL: the database system is starting up (SQLSTATE 57P03))"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.311 UTC","process_id":"30","session_id":"6421262d.1e","session_line_num":"2","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"entering standby mode","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T05:14:21Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-1"}
{"level":"debug","ts":"2023-03-27T05:14:21Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.581 UTC","process_id":"30","session_id":"6421262d.1e","session_line_num":"3","session_start_time":"2023-03-27 05:14:21 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"consistent recovery state reached at 0/1E0000A0","backend_type":"startup","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.581 UTC","process_id":"30","session_id":"6421262d.1e","session_line_num":"4","session_start_time":"2023-03-27 05:14:21 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"invalid record length at 0/1E0000A0: wanted 24, got 0","backend_type":"startup","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.581 UTC","process_id":"26","session_id":"6421262d.1a","session_line_num":"6","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"database system is ready to accept read-only connections","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.595 UTC","process_id":"56","session_id":"6421262d.38","session_line_num":"1","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"fetching timeline history file for timeline 8 from primary server","backend_type":"walreceiver","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.601 UTC","process_id":"56","session_id":"6421262d.38","session_line_num":"2","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"started streaming WAL from primary at 0/1E000000 on timeline 7","backend_type":"walreceiver","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.601 UTC","process_id":"56","session_id":"6421262d.38","session_line_num":"3","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"replication terminated by primary server","detail":"End of WAL reached on timeline 7 at 0/1E0000A0.","backend_type":"walreceiver","query_id":"0"}}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:21.602 UTC","process_id":"56","session_id":"6421262d.38","session_line_num":"4","session_start_time":"2023-03-27 05:14:21 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"57P01","message":"terminating walreceiver process due to administrator command","backend_type":"walreceiver","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T05:14:21Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-1"}
{"level":"debug","ts":"2023-03-27T05:14:21Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-1"}
{"level":"debug","ts":"2023-03-27T05:14:21Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:21Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:22Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:22.000 UTC","process_id":"30","session_id":"6421262d.1e","session_line_num":"5","session_start_time":"2023-03-27 05:14:21 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"new target timeline is 8","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:22Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-1"}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:22Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-1"}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"83dbbb68-820b-459c-903a-2ecb8daf0982","uuid":"3bdd7eae-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-1","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"83dbbb68-820b-459c-903a-2ecb8daf0982","uuid":"3bdd7eae-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:22Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:22.276 UTC","process_id":"101","session_id":"6421262e.65","session_line_num":"1","session_start_time":"2023-03-27 05:14:22 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"started streaming WAL from primary at 0/1E000000 on timeline 8","backend_type":"walreceiver","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"910def7e-be16-452f-b324-6d34665ac41e","uuid":"3c37762d-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-1","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"910def7e-be16-452f-b324-6d34665ac41e","uuid":"3c37762d-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-1"}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c7310fd8-f340-41ce-aa1e-3523c128c4c1","uuid":"3c3f253b-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-1","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c7310fd8-f340-41ce-aa1e-3523c128c4c1","uuid":"3c3f253b-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-1"}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"575864d8-6de9-487d-969f-d3bed33c30e6","uuid":"3c496d60-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-1","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T05:14:22Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"575864d8-6de9-487d-969f-d3bed33c30e6","uuid":"3c496d60-cc5e-11ed-8f4e-ea6edfa0a5c5","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T05:14:23Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-1","record":{"log_time":"2023-03-27 05:14:23.280 UTC","process_id":"30","session_id":"6421262d.1e","session_line_num":"6","session_start_time":"2023-03-27 05:14:21 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"redo starts at 0/1E0000A0","backend_type":"startup","query_id":"0"}}
