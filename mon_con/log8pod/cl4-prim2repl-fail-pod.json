{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"setup","msg":"Starting CloudNativePG Instance Manager","logging_pod":"cluster-example-4","version":"1.19.1","build":{"Version":"1.19.0+dev100","Commit":"ae4c6fda","Date":"2023-03-23"}}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"setup","msg":"starting controller-runtime manager","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Starting EventSource","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","source":"kind source: *v1.Cluster"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Starting Controller","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Starting webserver","logging_pod":"cluster-example-4","address":":9187"}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"roles_reconciler","msg":"starting up the runnable","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"roles_reconciler","msg":"skipping the RoleSynchronizer in replicas","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"roles_reconciler","msg":"setting up RoleSynchronizer loop","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Starting webserver","logging_pod":"cluster-example-4","address":"localhost:8010"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Starting webserver","logging_pod":"cluster-example-4","address":":8000"}
{"level":"debug","ts":"2023-03-27T04:29:44Z","msg":"starting the postgres loop","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:29:44Z","msg":"starting signal loop","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:29:44Z","msg":"Checking PGDATA coherence","caller":"internal/cmd/manager/instance/run/lifecycle/run.go:255","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Starting workers","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","worker count":1}
{"level":"debug","ts":"2023-03-27T04:29:44Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bafca500-af0a-4fa5-a8ec-eb561c6e28e7","uuid":"000e3d96-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:29:44Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bafca500-af0a-4fa5-a8ec-eb561c6e28e7","uuid":"000e3d96-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bafca500-af0a-4fa5-a8ec-eb561c6e28e7","uuid":"000e3d96-cc58-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","filename":"/controller/certificates/server.crt","secret":"cluster-example-server"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bafca500-af0a-4fa5-a8ec-eb561c6e28e7","uuid":"000e3d96-cc58-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","filename":"/controller/certificates/server.key","secret":"cluster-example-server"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bafca500-af0a-4fa5-a8ec-eb561c6e28e7","uuid":"000e3d96-cc58-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","filename":"/controller/certificates/streaming_replica.crt","secret":"cluster-example-replication"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bafca500-af0a-4fa5-a8ec-eb561c6e28e7","uuid":"000e3d96-cc58-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","filename":"/controller/certificates/streaming_replica.key","secret":"cluster-example-replication"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bafca500-af0a-4fa5-a8ec-eb561c6e28e7","uuid":"000e3d96-cc58-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","filename":"/controller/certificates/client-ca.crt","secret":"cluster-example-ca"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bafca500-af0a-4fa5-a8ec-eb561c6e28e7","uuid":"000e3d96-cc58-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","filename":"/controller/certificates/server-ca.crt","secret":"cluster-example-ca"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Updated replication settings in postgresql.auto.conf file","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Extracting pg_controldata information","logging_pod":"cluster-example-4","reason":"postmaster start up"}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"pg_controldata","msg":"pg_control version number:            1300\nCatalog version number:               202209061\nDatabase system identifier:           7214847947255496726\nDatabase cluster state:               in production\npg_control last modified:             Mon 27 Mar 2023 04:29:28 AM UTC\nLatest checkpoint location:           0/16000060\nLatest checkpoint's REDO location:    0/16000028\nLatest checkpoint's REDO WAL file:    000000050000000000000016\nLatest checkpoint's TimeLineID:       5\nLatest checkpoint's PrevTimeLineID:   5\nLatest checkpoint's full_page_writes: on\nLatest checkpoint's NextXID:          0:744\nLatest checkpoint's NextOID:          16391\nLatest checkpoint's NextMultiXactId:  1\nLatest checkpoint's NextMultiOffset:  0\nLatest checkpoint's oldestXID:        716\nLatest checkpoint's oldestXID's DB:   1\nLatest checkpoint's oldestActiveXID:  744\nLatest checkpoint's oldestMultiXid:   1\nLatest checkpoint's oldestMulti's DB: 1\nLatest checkpoint's oldestCommitTsXid:0\nLatest checkpoint's newestCommitTsXid:0\nTime of latest checkpoint:            Mon 27 Mar 2023 04:29:27 AM UTC\nFake LSN counter for unlogged rels:   0/3E8\nMinimum recovery ending location:     0/0\nMin recovery ending loc's timeline:   0\nBackup start location:                0/0\nBackup end location:                  0/0\nEnd-of-backup record required:        no\nwal_level setting:                    logical\nwal_log_hints setting:                on\nmax_connections setting:              100\nmax_worker_processes setting:         32\nmax_wal_senders setting:              10\nmax_prepared_xacts setting:           0\nmax_locks_per_xact setting:           64\ntrack_commit_timestamp setting:       off\nMaximum data alignment:               8\nDatabase block size:                  8192\nBlocks per segment of large relation: 131072\nWAL block size:                       8192\nBytes per WAL segment:                16777216\nMaximum length of identifiers:        64\nMaximum columns in an index:          32\nMaximum size of a TOAST chunk:        1996\nSize of a large-object chunk:         2048\nDate/time type storage:               64-bit integers\nFloat8 argument passing:              by value\nData page checksum version:           0\nMock authentication nonce:            c953465ac918c0a055d07bf03b41423f2d229db5472e9ce8be3b0d79d8a0498a\n","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"The PID file content is wrong, deleting it and assuming it's stale","file":"/var/lib/postgresql/data/pgdata/postmaster.pid","logging_pod":"cluster-example-4","err":"file does not exist","pidFileContents":""}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"2023-03-27 04:29:44.922 UTC [18] LOG:  redirecting log output to logging collector process","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"2023-03-27 04:29:44.922 UTC [18] HINT:  Future log output will appear in directory \"/controller/log\".","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:44.922 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"1","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"ending log output to stderr","hint":"Future log output will go to log destination \"csvlog\".","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:44.922 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"2","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"starting PostgreSQL 15.2 (Debian 15.2-1.pgdg110+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 10.2.1-6) 10.2.1 20210110, 64-bit","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:44.922 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"3","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"listening on IPv4 address \"0.0.0.0\", port 5432","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:44.922 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"4","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"listening on IPv6 address \"::\", port 5432","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"2023-03-27 04:29:44.922 UTC [18] LOG:  ending log output to stderr","source":"/controller/log/postgres","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"2023-03-27 04:29:44.922 UTC [18] HINT:  Future log output will go to log destination \"csvlog\".","source":"/controller/log/postgres","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","msg":"Instance is still down, will retry in 1 second","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bafca500-af0a-4fa5-a8ec-eb561c6e28e7","uuid":"000e3d96-cc58-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:44.934 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"5","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"listening on Unix socket \"/controller/run/.s.PGSQL.5432\"","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:29:44Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:44.949 UTC","process_id":"22","session_id":"64211bb8.16","session_line_num":"1","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"database system was interrupted; last known up at 2023-03-27 04:29:28 UTC","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:29:44Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:45.105 UTC","process_id":"22","session_id":"64211bb8.16","session_line_num":"2","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"entering standby mode","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:45.395 UTC","process_id":"22","session_id":"64211bb8.16","session_line_num":"3","session_start_time":"2023-03-27 04:29:44 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"redo starts at 0/16000028","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:45.539 UTC","user_name":"postgres","database_name":"postgres","process_id":"47","connection_from":"[local]","session_id":"64211bb9.2f","session_line_num":"1","session_start_time":"2023-03-27 04:29:45 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"57P03","message":"the database system is not yet accepting connections","detail":"Consistent recovery state has not been yet reached.","backend_type":"client backend","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:29:45Z","msg":"Readiness probe failing","logging_pod":"cluster-example-4","err":"failed to connect to `host=/controller/run user=postgres database=postgres`: server error (FATAL: the database system is not yet accepting connections (SQLSTATE 57P03))"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:45.545 UTC","process_id":"22","session_id":"64211bb8.16","session_line_num":"4","session_start_time":"2023-03-27 04:29:44 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"consistent recovery state reached at 0/16000138","backend_type":"startup","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:45.545 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"6","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"database system is ready to accept read-only connections","backend_type":"postmaster","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c78a4452-edf5-4952-a54a-12695ad47cd2","uuid":"007fc32d-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c78a4452-edf5-4952-a54a-12695ad47cd2","uuid":"007fc32d-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:29:45Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:29:45.707 UTC","process_id":"58","session_id":"64211bb9.3a","session_line_num":"1","session_start_time":"2023-03-27 04:29:45 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"started streaming WAL from primary at 0/17000000 on timeline 5","backend_type":"walreceiver","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8dea388c-319d-4887-89e5-8ba83479ba70","uuid":"00ae822c-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8dea388c-319d-4887-89e5-8ba83479ba70","uuid":"00ae822c-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8e89a680-b5e0-4c77-b784-0cd3e6a27874","uuid":"00b9e79b-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:29:45Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8e89a680-b5e0-4c77-b784-0cd3e6a27874","uuid":"00b9e79b-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:29:46Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8b9490e6-c8a9-4810-8e45-3845b088a1c5","uuid":"011a3a0f-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:29:46Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"8b9490e6-c8a9-4810-8e45-3845b088a1c5","uuid":"011a3a0f-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:29:46Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"5d094874-f38b-4d71-80af-88dd2f84f54b","uuid":"01247ab3-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:29:46Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"5d094874-f38b-4d71-80af-88dd2f84f54b","uuid":"01247ab3-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:29:46Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"37109397-f680-4174-b5a4-bbe17cec3549","uuid":"01384b1d-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:29:46Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"37109397-f680-4174-b5a4-bbe17cec3549","uuid":"01384b1d-cc58-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:34:45Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:34:45.024 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"1","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"restartpoint starting: time","backend_type":"checkpointer","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:34:45Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:34:45.040 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"2","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"restartpoint complete: wrote 1 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.004 s, sync=0.001 s, total=0.017 s; sync files=0, longest=0.000 s, average=0.000 s; distance=16384 kB, estimate=16384 kB","backend_type":"checkpointer","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:34:45Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:34:45.040 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"3","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"recovery restart point at 0/17000060","backend_type":"checkpointer","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"60bd9269-dbea-440a-b029-5e27aa8aa347","uuid":"6977b31b-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"60bd9269-dbea-440a-b029-5e27aa8aa347","uuid":"6977b31b-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"3adea70e-1ac6-4fa8-ac95-3764e54f50da","uuid":"6983683e-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"3adea70e-1ac6-4fa8-ac95-3764e54f50da","uuid":"6983683e-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"fa424a1e-303d-4fc7-80b5-874717d251df","uuid":"698b68c2-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"fa424a1e-303d-4fc7-80b5-874717d251df","uuid":"698b68c2-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bb0c6522-4cd9-4647-a9c3-6cd7054b20ee","uuid":"69963f3c-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"bb0c6522-4cd9-4647-a9c3-6cd7054b20ee","uuid":"69963f3c-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"79ec55f7-58d2-4412-b56c-f5948f83e49f","uuid":"699de4d4-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"79ec55f7-58d2-4412-b56c-f5948f83e49f","uuid":"699de4d4-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"f56dc147-0d76-407c-adf8-714b66ef0038","uuid":"69a551db-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"f56dc147-0d76-407c-adf8-714b66ef0038","uuid":"69a551db-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"84d76d84-abe6-41c3-991b-237939ab0006","uuid":"69adc696-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"84d76d84-abe6-41c3-991b-237939ab0006","uuid":"69adc696-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"f534a515-cd40-46b2-a6f7-5d87403eeaa1","uuid":"69b6e80a-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"f534a515-cd40-46b2-a6f7-5d87403eeaa1","uuid":"69b6e80a-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"7e51b794-02f8-493b-87ef-78de1ea08bb3","uuid":"69bee765-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"7e51b794-02f8-493b-87ef-78de1ea08bb3","uuid":"69bee765-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"917c24aa-b410-4eb4-9647-0200d81998df","uuid":"69c7dd9a-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"917c24aa-b410-4eb4-9647-0200d81998df","uuid":"69c7dd9a-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"77e9a1db-8a1c-4c16-ba56-2de8c162cb71","uuid":"69d094bc-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"77e9a1db-8a1c-4c16-ba56-2de8c162cb71","uuid":"69d094bc-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"b54bc044-680d-4e30-9818-e4d525088325","uuid":"69eb8960-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:51Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"b54bc044-680d-4e30-9818-e4d525088325","uuid":"69eb8960-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"42121d7c-b077-4cb7-8fc2-84353b43e9dd","uuid":"6a0a5d1a-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"42121d7c-b077-4cb7-8fc2-84353b43e9dd","uuid":"6a0a5d1a-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"e1f42cea-758a-43d5-8776-6002aebe7d56","uuid":"6a2782af-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"e1f42cea-758a-43d5-8776-6002aebe7d56","uuid":"6a2782af-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"325f4b7c-43e1-42a8-94a0-5f6b003a49ee","uuid":"6a472242-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"325f4b7c-43e1-42a8-94a0-5f6b003a49ee","uuid":"6a472242-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"92a82c32-d3a6-4a7a-afbf-8e04207ef87f","uuid":"6a63ff24-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"92a82c32-d3a6-4a7a-afbf-8e04207ef87f","uuid":"6a63ff24-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c868bd3e-794a-4f6d-a9c2-28a03945364e","uuid":"6a832a20-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:52Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c868bd3e-794a-4f6d-a9c2-28a03945364e","uuid":"6a832a20-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:53Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"cd6dc723-a503-40ef-8619-6872139e55c4","uuid":"6aa1fabf-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:53Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"cd6dc723-a503-40ef-8619-6872139e55c4","uuid":"6aa1fabf-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:53Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"2ca47fd8-54dc-45c6-92e8-6632f16a9646","uuid":"6ac13732-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:53Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"2ca47fd8-54dc-45c6-92e8-6632f16a9646","uuid":"6ac13732-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:53Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"2ead0cd2-8e15-4fcd-9ef6-1678699d0bea","uuid":"6adda7dd-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:53Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"2ead0cd2-8e15-4fcd-9ef6-1678699d0bea","uuid":"6adda7dd-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:54.310 UTC","process_id":"58","session_id":"64211bb9.3a","session_line_num":"2","session_start_time":"2023-03-27 04:29:45 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"replication terminated by primary server","detail":"End of WAL reached on timeline 5 at 0/190000A0.","backend_type":"walreceiver","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:54.310 UTC","process_id":"58","session_id":"64211bb9.3a","session_line_num":"3","session_start_time":"2023-03-27 04:29:45 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"08006","message":"could not send end-of-streaming message to primary: SSL connection has been closed unexpectedly\nno COPY in progress","backend_type":"walreceiver","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"d7f4842d-bc1f-4cc5-8c16-f80cb6c0a31e","uuid":"6b589184-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"d7f4842d-bc1f-4cc5-8c16-f80cb6c0a31e","uuid":"6b589184-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0dca6d5f-1662-4584-a85f-60ee66a7e712","uuid":"6b646eb7-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0dca6d5f-1662-4584-a85f-60ee66a7e712","uuid":"6b646eb7-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0c5d2615-f864-47ee-b3e0-df9c2a210aae","uuid":"6b773a27-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0c5d2615-f864-47ee-b3e0-df9c2a210aae","uuid":"6b773a27-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","msg":"Setting myself as primary","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0c5d2615-f864-47ee-b3e0-df9c2a210aae","uuid":"6b773a27-cc59-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","phase":"Failing over","currentTimestamp":"2023-03-27T04:39:54.592194Z","targetPrimaryTimestamp":"2023-03-27T04:39:54.465398Z","currentPrimaryTimestamp":"2023-03-26T17:22:12.063139Z","msPassedSinceTargetPrimaryTimestamp":126,"msPassedSinceCurrentPrimaryTimestamp":40662529,"msDifferenceBetweenCurrentAndTargetPrimary":-40662402}
{"level":"info","ts":"2023-03-27T04:39:54Z","msg":"I'm the target primary, wait for the wal_receiver to be terminated","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0c5d2615-f864-47ee-b3e0-df9c2a210aae","uuid":"6b773a27-cc59-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","msg":"I'm the target primary, applying WALs and promoting my instance","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0c5d2615-f864-47ee-b3e0-df9c2a210aae","uuid":"6b773a27-cc59-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","msg":"Extracting pg_controldata information","logging_pod":"cluster-example-4","reason":"promote"}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"pg_controldata","msg":"pg_control version number:            1300\nCatalog version number:               202209061\nDatabase system identifier:           7214847947255496726\nDatabase cluster state:               in archive recovery\npg_control last modified:             Mon 27 Mar 2023 04:39:45 AM UTC\nLatest checkpoint location:           0/17000098\nLatest checkpoint's REDO location:    0/17000060\nLatest checkpoint's REDO WAL file:    000000050000000000000017\nLatest checkpoint's TimeLineID:       5\nLatest checkpoint's PrevTimeLineID:   5\nLatest checkpoint's full_page_writes: on\nLatest checkpoint's NextXID:          0:744\nLatest checkpoint's NextOID:          16391\nLatest checkpoint's NextMultiXactId:  1\nLatest checkpoint's NextMultiOffset:  0\nLatest checkpoint's oldestXID:        716\nLatest checkpoint's oldestXID's DB:   1\nLatest checkpoint's oldestActiveXID:  744\nLatest checkpoint's oldestMultiXid:   1\nLatest checkpoint's oldestMulti's DB: 1\nLatest checkpoint's oldestCommitTsXid:0\nLatest checkpoint's newestCommitTsXid:0\nTime of latest checkpoint:            Mon 27 Mar 2023 04:34:27 AM UTC\nFake LSN counter for unlogged rels:   0/3E8\nMinimum recovery ending location:     0/18000060\nMin recovery ending loc's timeline:   5\nBackup start location:                0/0\nBackup end location:                  0/0\nEnd-of-backup record required:        no\nwal_level setting:                    logical\nwal_log_hints setting:                on\nmax_connections setting:              100\nmax_worker_processes setting:         32\nmax_wal_senders setting:              10\nmax_prepared_xacts setting:           0\nmax_locks_per_xact setting:           64\ntrack_commit_timestamp setting:       off\nMaximum data alignment:               8\nDatabase block size:                  8192\nBlocks per segment of large relation: 131072\nWAL block size:                       8192\nBytes per WAL segment:                16777216\nMaximum length of identifiers:        64\nMaximum columns in an index:          32\nMaximum size of a TOAST chunk:        1996\nSize of a large-object chunk:         2048\nDate/time type storage:               64-bit integers\nFloat8 argument passing:              by value\nData page checksum version:           0\nMock authentication nonce:            c953465ac918c0a055d07bf03b41423f2d229db5472e9ce8be3b0d79d8a0498a\n","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","msg":"Promoting instance","logging_pod":"cluster-example-4","pgctl_options":["-D","/var/lib/postgresql/data/pgdata","-w","promote","-t 40000000"]}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:54.649 UTC","process_id":"22","session_id":"64211bb8.16","session_line_num":"5","session_start_time":"2023-03-27 04:29:44 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"invalid record length at 0/190000A0: wanted 24, got 0","backend_type":"startup","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:54.649 UTC","process_id":"22","session_id":"64211bb8.16","session_line_num":"6","session_start_time":"2023-03-27 04:29:44 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"received promote request","backend_type":"startup","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:54.649 UTC","process_id":"22","session_id":"64211bb8.16","session_line_num":"7","session_start_time":"2023-03-27 04:29:44 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"redo done at 0/19000028 system usage: CPU: user: 0.00 s, system: 0.00 s, elapsed: 609.25 s","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:54Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:54Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:54.931 UTC","process_id":"22","session_id":"64211bb8.16","session_line_num":"8","session_start_time":"2023-03-27 04:29:44 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"selected new timeline ID: 6","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:39:55Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:55Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:56.076 UTC","process_id":"22","session_id":"64211bb8.16","session_line_num":"9","session_start_time":"2023-03-27 04:29:44 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"archive recovery complete","backend_type":"startup","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:56.084 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"4","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"checkpoint starting: force","backend_type":"checkpointer","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:56.087 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"7","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"database system is ready to accept connections","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:56.100 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"5","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"checkpoint complete: wrote 2 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.004 s, sync=0.002 s, total=0.017 s; sync files=2, longest=0.002 s, average=0.001 s; distance=32768 kB, estimate=32768 kB","backend_type":"checkpointer","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"pg_ctl","msg":"waiting for server to promote..... done","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"pg_ctl","msg":"server promoted","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:56Z","msg":"Requesting a checkpoint","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:56.110 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"6","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"checkpoint starting: immediate force wait","backend_type":"checkpointer","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:39:56.120 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"7","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"checkpoint complete: wrote 0 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.001 s, sync=0.001 s, total=0.011 s; sync files=0, longest=0.000 s, average=0.000 s; distance=0 kB, estimate=29491 kB","backend_type":"checkpointer","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:39:56Z","msg":"The PostgreSQL instance has been promoted successfully","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:56Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"wal-archive","msg":"Backup not configured, skip WAL archiving","logging_pod":"cluster-example-4","walName":"pg_wal/00000006.history","currentPrimary":"cluster-example-4","targetPrimary":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:56Z","msg":"Finished setting myself as primary","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0c5d2615-f864-47ee-b3e0-df9c2a210aae","uuid":"6b773a27-cc59-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","phase":"Failing over","currentTimestamp":"2023-03-27T04:39:56.145786Z","targetPrimaryTimestamp":"2023-03-27T04:39:54.465398Z","currentPrimaryTimestamp":"2023-03-27T04:39:56.121569Z","msPassedSinceTargetPrimaryTimestamp":1680,"msPassedSinceCurrentPrimaryTimestamp":24,"msDifferenceBetweenCurrentAndTargetPrimary":1656}
{"level":"debug","ts":"2023-03-27T04:39:56Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:39:56Z","logger":"wal-archive","msg":"Backup not configured, skip WAL archiving","logging_pod":"cluster-example-4","walName":"pg_wal/000000050000000000000019.partial","currentPrimary":"cluster-example-4","targetPrimary":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:56Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"5d7f8d94-476a-42ca-a509-5ae671abd059","uuid":"6c77f327-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:56Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"5d7f8d94-476a-42ca-a509-5ae671abd059","uuid":"6c77f327-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:39:56Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"a88be5ce-0511-4dee-9343-5a5ad290cbc5","uuid":"6c869794-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:39:56Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"a88be5ce-0511-4dee-9343-5a5ad290cbc5","uuid":"6c869794-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:40:17Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"aa2bee58-c9a4-4703-83fb-1a63d02b7ce7","uuid":"794f3cec-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:40:17Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"aa2bee58-c9a4-4703-83fb-1a63d02b7ce7","uuid":"794f3cec-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:40:22Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"cf40bbdf-f633-4b97-83f4-6228c289b2d4","uuid":"7bfd9ce1-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:40:22Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"cf40bbdf-f633-4b97-83f4-6228c289b2d4","uuid":"7bfd9ce1-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:40:22Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0f7b496f-6fa4-4539-b1f6-e983d2f734e6","uuid":"7c113cac-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:40:22Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0f7b496f-6fa4-4539-b1f6-e983d2f734e6","uuid":"7c113cac-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:40:28Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c3dd1427-5571-46f2-902f-4f4f7d72b4f0","uuid":"7f8d22bf-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:40:28Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c3dd1427-5571-46f2-902f-4f4f7d72b4f0","uuid":"7f8d22bf-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:40:28Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"b1596d9a-49f7-40ac-a798-0c8c980f4813","uuid":"7fb159da-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:40:28Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"b1596d9a-49f7-40ac-a798-0c8c980f4813","uuid":"7fb159da-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:40:29Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c009d479-9afb-4558-b849-7815df6b2f55","uuid":"80278137-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:40:29Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"c009d479-9afb-4558-b849-7815df6b2f55","uuid":"80278137-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:40:29Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"87f2eecb-d36c-4c37-8f06-4f5c904f4259","uuid":"8032f6f9-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:40:29Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"87f2eecb-d36c-4c37-8f06-4f5c904f4259","uuid":"8032f6f9-cc59-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:39Z","msg":"Received termination signal","logging_pod":"cluster-example-4","signal":"interrupt"}
{"level":"info","ts":"2023-03-27T04:44:39Z","msg":"Requesting smart shutdown of the PostgreSQL instance","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:39Z","logger":"pg_ctl","msg":"pg_ctl: server is running (PID: 18)\n/usr/lib/postgresql/15/bin/postgres \"-D\" \"/var/lib/postgresql/data/pgdata\"\n","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:39Z","msg":"Shutting down instance","logging_pod":"cluster-example-4","pgdata":"/var/lib/postgresql/data/pgdata","mode":"smart","timeout":15}
{"level":"info","ts":"2023-03-27T04:44:39Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:39.256 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"8","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"received smart shutdown request","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:44:39Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:39.265 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"9","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"background worker \"logical replication launcher\" (PID 487) exited with exit code 1","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:44:39Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:39.266 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"8","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"shutting down","backend_type":"checkpointer","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:44:39Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0058dc64-e38f-46e0-a918-e471c6d88232","uuid":"15308147-cc5a-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:44:39Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0058dc64-e38f-46e0-a918-e471c6d88232","uuid":"15308147-cc5a-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:39Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:39.357 UTC","user_name":"postgres","database_name":"postgres","process_id":"887","connection_from":"[local]","session_id":"64211f37.377","session_line_num":"1","session_start_time":"2023-03-27 04:44:39 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"57P03","message":"the database system is shutting down","backend_type":"client backend","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:44:39Z","msg":"DB not available, will retry","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"0058dc64-e38f-46e0-a918-e471c6d88232","uuid":"15308147-cc5a-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","err":"failed to connect to `host=/controller/run user=postgres database=postgres`: server error (FATAL: the database system is shutting down (SQLSTATE 57P03))"}
{"level":"info","ts":"2023-03-27T04:44:39Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:39.362 UTC","user_name":"postgres","database_name":"postgres","process_id":"888","connection_from":"[local]","session_id":"64211f37.378","session_line_num":"1","session_start_time":"2023-03-27 04:44:39 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"57P03","message":"the database system is shutting down","backend_type":"client backend","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:44:39Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"aaec5d89-c294-4b75-a078-41a0babbaf70","uuid":"153a6a38-cc5a-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:44:39Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"aaec5d89-c294-4b75-a078-41a0babbaf70","uuid":"153a6a38-cc5a-11ed-ad79-c66fd8f5d45c","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:39Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:39.406 UTC","user_name":"postgres","database_name":"postgres","process_id":"890","connection_from":"[local]","session_id":"64211f37.37a","session_line_num":"1","session_start_time":"2023-03-27 04:44:39 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"57P03","message":"the database system is shutting down","backend_type":"client backend","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:44:39Z","msg":"This is an old primary node. Requesting a checkpoint before demotion","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"aaec5d89-c294-4b75-a078-41a0babbaf70","uuid":"153a6a38-cc5a-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:39Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:39.408 UTC","user_name":"postgres","database_name":"postgres","process_id":"891","connection_from":"[local]","session_id":"64211f37.37b","session_line_num":"1","session_start_time":"2023-03-27 04:44:39 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"57P03","message":"the database system is shutting down","backend_type":"client backend","query_id":"0"}}
{"level":"error","ts":"2023-03-27T04:44:39Z","msg":"Error while requesting a checkpoint","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"aaec5d89-c294-4b75-a078-41a0babbaf70","uuid":"153a6a38-cc5a-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4","error":"failed to connect to `host=/controller/run user=postgres database=postgres`: server error (FATAL: the database system is shutting down (SQLSTATE 57P03))","stacktrace":"github.com/cloudnative-pg/cloudnative-pg/pkg/management/log.(*logger).Error\n\tpkg/management/log/log.go:128\ngithub.com/cloudnative-pg/cloudnative-pg/internal/management/controller.(*InstanceReconciler).reconcileOldPrimary\n\tinternal/management/controller/instance_controller.go:432\ngithub.com/cloudnative-pg/cloudnative-pg/internal/management/controller.(*InstanceReconciler).Reconcile\n\tinternal/management/controller/instance_controller.go:195\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\tpkg/mod/sigs.k8s.io/controller-runtime@v0.14.5/pkg/internal/controller/controller.go:122\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\tpkg/mod/sigs.k8s.io/controller-runtime@v0.14.5/pkg/internal/controller/controller.go:323\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\tpkg/mod/sigs.k8s.io/controller-runtime@v0.14.5/pkg/internal/controller/controller.go:274\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\tpkg/mod/sigs.k8s.io/controller-runtime@v0.14.5/pkg/internal/controller/controller.go:235"}
{"level":"info","ts":"2023-03-27T04:44:39Z","msg":"This is an old primary node. Shutting it down to get it demoted to a replica","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"aaec5d89-c294-4b75-a078-41a0babbaf70","uuid":"153a6a38-cc5a-11ed-ad79-c66fd8f5d45c","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:39Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:39.988 UTC","user_name":"postgres","database_name":"postgres","process_id":"892","connection_from":"[local]","session_id":"64211f37.37c","session_line_num":"1","session_start_time":"2023-03-27 04:44:39 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"57P03","message":"the database system is shutting down","backend_type":"client backend","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:44:39Z","msg":"Readiness probe failing","logging_pod":"cluster-example-4","err":"failed to connect to `host=/controller/run user=postgres database=postgres`: server error (FATAL: the database system is shutting down (SQLSTATE 57P03))"}
{"level":"info","ts":"2023-03-27T04:44:40Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:40.280 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"9","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"checkpoint starting: shutdown immediate","backend_type":"checkpointer","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:44:40Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:40Z","logger":"wal-archive","msg":"Backup not configured, skip WAL archiving","logging_pod":"cluster-example-4","walName":"pg_wal/000000060000000000000019","currentPrimary":"cluster-example-4","targetPrimary":"pending"}
{"level":"info","ts":"2023-03-27T04:44:41Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:41.395 UTC","process_id":"20","session_id":"64211bb8.14","session_line_num":"10","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"checkpoint complete: wrote 2 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.003 s, sync=0.004 s, total=1.122 s; sync files=2, longest=0.003 s, average=0.002 s; distance=16383 kB, estimate=28180 kB","backend_type":"checkpointer","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:44:42Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:44:42.401 UTC","process_id":"18","session_id":"64211bb8.12","session_line_num":"10","session_start_time":"2023-03-27 04:29:44 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"database system is shut down","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Extracting pg_controldata information","logging_pod":"cluster-example-4","reason":"postmaster has exited"}
{"level":"info","ts":"2023-03-27T04:44:42Z","logger":"pg_controldata","msg":"pg_control version number:            1300\nCatalog version number:               202209061\nDatabase system identifier:           7214847947255496726\nDatabase cluster state:               shut down\npg_control last modified:             Mon 27 Mar 2023 04:44:41 AM UTC\nLatest checkpoint location:           0/1A000028\nLatest checkpoint's REDO location:    0/1A000028\nLatest checkpoint's REDO WAL file:    00000006000000000000001A\nLatest checkpoint's TimeLineID:       6\nLatest checkpoint's PrevTimeLineID:   6\nLatest checkpoint's full_page_writes: on\nLatest checkpoint's NextXID:          0:745\nLatest checkpoint's NextOID:          16391\nLatest checkpoint's NextMultiXactId:  1\nLatest checkpoint's NextMultiOffset:  0\nLatest checkpoint's oldestXID:        716\nLatest checkpoint's oldestXID's DB:   1\nLatest checkpoint's oldestActiveXID:  0\nLatest checkpoint's oldestMultiXid:   1\nLatest checkpoint's oldestMulti's DB: 1\nLatest checkpoint's oldestCommitTsXid:0\nLatest checkpoint's newestCommitTsXid:0\nTime of latest checkpoint:            Mon 27 Mar 2023 04:44:40 AM UTC\nFake LSN counter for unlogged rels:   0/3E8\nMinimum recovery ending location:     0/0\nMin recovery ending loc's timeline:   0\nBackup start location:                0/0\nBackup end location:                  0/0\nEnd-of-backup record required:        no\nwal_level setting:                    logical\nwal_log_hints setting:                on\nmax_connections setting:              100\nmax_worker_processes setting:         32\nmax_wal_senders setting:              10\nmax_prepared_xacts setting:           0\nmax_locks_per_xact setting:           64\ntrack_commit_timestamp setting:       off\nMaximum data alignment:               8\nDatabase block size:                  8192\nBlocks per segment of large relation: 131072\nWAL block size:                       8192\nBytes per WAL segment:                16777216\nMaximum length of identifiers:        64\nMaximum columns in an index:          32\nMaximum size of a TOAST chunk:        1996\nSize of a large-object chunk:         2048\nDate/time type storage:               64-bit integers\nFloat8 argument passing:              by value\nData page checksum version:           0\nMock authentication nonce:            c953465ac918c0a055d07bf03b41423f2d229db5472e9ce8be3b0d79d8a0498a\n","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:42Z","logger":"pg_ctl","msg":"waiting for server to shut down....... done","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:42Z","logger":"pg_ctl","msg":"server stopped","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"PostgreSQL instance shut down","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Stopping and waiting for non leader election runnables"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Stopping and waiting for leader election runnables"}
{"level":"info","ts":"2023-03-27T04:44:42Z","logger":"Replicator","msg":"Terminated slot Replicator loop","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Shutdown signal received, waiting for all workers to finish","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Webserver exited","logging_pod":"cluster-example-4","address":":8000"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Exited log pipe","fileName":"/controller/log/postgres.json","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Exited log pipe","fileName":"/controller/log/postgres.csv","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Exited log pipe","fileName":"/controller/log/postgres","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Webserver exited","logging_pod":"cluster-example-4","address":"localhost:8010"}
{"level":"info","ts":"2023-03-27T04:44:42Z","logger":"roles_reconciler","msg":"Terminated RoleSynchronizer loop","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:44:42Z","msg":"Webserver exited","logging_pod":"cluster-example-4","address":":9187"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"setup","msg":"Starting CloudNativePG Instance Manager","logging_pod":"cluster-example-4","version":"1.19.1","build":{"Version":"1.19.0+dev100","Commit":"ae4c6fda","Date":"2023-03-23"}}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"setup","msg":"starting controller-runtime manager","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Starting EventSource","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","source":"kind source: *v1.Cluster"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Starting Controller","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster"}
{"level":"debug","ts":"2023-03-27T04:45:15Z","msg":"starting the postgres loop","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:45:15Z","msg":"starting signal loop","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"roles_reconciler","msg":"starting up the runnable","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"roles_reconciler","msg":"setting up RoleSynchronizer loop","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Starting webserver","logging_pod":"cluster-example-4","address":":8000"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Starting webserver","logging_pod":"cluster-example-4","address":":9187"}
{"level":"debug","ts":"2023-03-27T04:45:15Z","msg":"Checking PGDATA coherence","caller":"internal/cmd/manager/instance/run/lifecycle/run.go:255","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Starting webserver","logging_pod":"cluster-example-4","address":"localhost:8010"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Starting workers","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","worker count":1}
{"level":"debug","ts":"2023-03-27T04:45:15Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:45:15Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4","filename":"/controller/certificates/server.crt","secret":"cluster-example-server"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4","filename":"/controller/certificates/server.key","secret":"cluster-example-server"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4","filename":"/controller/certificates/streaming_replica.crt","secret":"cluster-example-replication"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4","filename":"/controller/certificates/streaming_replica.key","secret":"cluster-example-replication"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4","filename":"/controller/certificates/client-ca.crt","secret":"cluster-example-ca"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Refreshed configuration file","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4","filename":"/controller/certificates/server-ca.crt","secret":"cluster-example-ca"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Cluster status","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4","currentPrimary":"cluster-example-1","targetPrimary":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"This is an old primary instance, waiting for the switchover to finish","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4","currentPrimary":"cluster-example-1","targetPrimary":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Switchover completed","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4","targetPrimary":"cluster-example-1","currentPrimary":"cluster-example-1"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Waiting for the new primary to be available","logging_pod":"cluster-example-4","primaryConnInfo":"host=cluster-example-rw user=streaming_replica port=5432 sslkey=/controller/certificates/streaming_replica.key sslcert=/controller/certificates/streaming_replica.crt sslrootcert=/controller/certificates/server-ca.crt application_name=cluster-example-4 sslmode=verify-ca dbname=postgres connect_timeout=5"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Extracting pg_controldata information","logging_pod":"cluster-example-4","reason":"before pg_rewind"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_controldata","msg":"pg_control version number:            1300\nCatalog version number:               202209061\nDatabase system identifier:           7214847947255496726\nDatabase cluster state:               shut down\npg_control last modified:             Mon 27 Mar 2023 04:44:41 AM UTC\nLatest checkpoint location:           0/1A000028\nLatest checkpoint's REDO location:    0/1A000028\nLatest checkpoint's REDO WAL file:    00000006000000000000001A\nLatest checkpoint's TimeLineID:       6\nLatest checkpoint's PrevTimeLineID:   6\nLatest checkpoint's full_page_writes: on\nLatest checkpoint's NextXID:          0:745\nLatest checkpoint's NextOID:          16391\nLatest checkpoint's NextMultiXactId:  1\nLatest checkpoint's NextMultiOffset:  0\nLatest checkpoint's oldestXID:        716\nLatest checkpoint's oldestXID's DB:   1\nLatest checkpoint's oldestActiveXID:  0\nLatest checkpoint's oldestMultiXid:   1\nLatest checkpoint's oldestMulti's DB: 1\nLatest checkpoint's oldestCommitTsXid:0\nLatest checkpoint's newestCommitTsXid:0\nTime of latest checkpoint:            Mon 27 Mar 2023 04:44:40 AM UTC\nFake LSN counter for unlogged rels:   0/3E8\nMinimum recovery ending location:     0/0\nMin recovery ending loc's timeline:   0\nBackup start location:                0/0\nBackup end location:                  0/0\nEnd-of-backup record required:        no\nwal_level setting:                    logical\nwal_log_hints setting:                on\nmax_connections setting:              100\nmax_worker_processes setting:         32\nmax_wal_senders setting:              10\nmax_prepared_xacts setting:           0\nmax_locks_per_xact setting:           64\ntrack_commit_timestamp setting:       off\nMaximum data alignment:               8\nDatabase block size:                  8192\nBlocks per segment of large relation: 131072\nWAL block size:                       8192\nBytes per WAL segment:                16777216\nMaximum length of identifiers:        64\nMaximum columns in an index:          32\nMaximum size of a TOAST chunk:        1996\nSize of a large-object chunk:         2048\nDate/time type storage:               64-bit integers\nFloat8 argument passing:              by value\nData page checksum version:           0\nMock authentication nonce:            c953465ac918c0a055d07bf03b41423f2d229db5472e9ce8be3b0d79d8a0498a\n","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Starting up pg_rewind","logging_pod":"cluster-example-4","pgdata":"/var/lib/postgresql/data/pgdata","options":["-P","--source-server","host=cluster-example-rw user=streaming_replica port=5432 sslkey=/controller/certificates/streaming_replica.key sslcert=/controller/certificates/streaming_replica.crt sslrootcert=/controller/certificates/server-ca.crt application_name=cluster-example-4 sslmode=verify-ca dbname=postgres","--target-pgdata","/var/lib/postgresql/data/pgdata","--debug","--restore-target-wal"]}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: using for rewind restore_command = '/controller/manager wal-restore --log-destination /controller/log/postgres.json %f %p'","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: connected to server","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: fetched file \"global/pg_control\", length 8192","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: fetched file \"pg_wal/00000007.history\", length 255","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: Source timeline history:","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: Target timeline history:","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: 1: 0/0 - 0/90000A0","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: 2: 0/90000A0 - 0/B000C00","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: 3: 0/B000C00 - 0/100000A0","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: 4: 0/100000A0 - 0/12000000","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: 5: 0/12000000 - 0/190000A0","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: 6: 0/190000A0 - 0/0","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: servers diverged at WAL location 0/1A0000A0 on timeline 6","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_rewind","msg":"pg_rewind: no rewind required","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Demoting instance","logging_pod":"cluster-example-4","pgpdata":"/var/lib/postgresql/data/pgdata"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Extracting pg_controldata information","logging_pod":"cluster-example-4","reason":"postmaster start up"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"pg_controldata","msg":"pg_control version number:            1300\nCatalog version number:               202209061\nDatabase system identifier:           7214847947255496726\nDatabase cluster state:               shut down\npg_control last modified:             Mon 27 Mar 2023 04:44:41 AM UTC\nLatest checkpoint location:           0/1A000028\nLatest checkpoint's REDO location:    0/1A000028\nLatest checkpoint's REDO WAL file:    00000006000000000000001A\nLatest checkpoint's TimeLineID:       6\nLatest checkpoint's PrevTimeLineID:   6\nLatest checkpoint's full_page_writes: on\nLatest checkpoint's NextXID:          0:745\nLatest checkpoint's NextOID:          16391\nLatest checkpoint's NextMultiXactId:  1\nLatest checkpoint's NextMultiOffset:  0\nLatest checkpoint's oldestXID:        716\nLatest checkpoint's oldestXID's DB:   1\nLatest checkpoint's oldestActiveXID:  0\nLatest checkpoint's oldestMultiXid:   1\nLatest checkpoint's oldestMulti's DB: 1\nLatest checkpoint's oldestCommitTsXid:0\nLatest checkpoint's newestCommitTsXid:0\nTime of latest checkpoint:            Mon 27 Mar 2023 04:44:40 AM UTC\nFake LSN counter for unlogged rels:   0/3E8\nMinimum recovery ending location:     0/0\nMin recovery ending loc's timeline:   0\nBackup start location:                0/0\nBackup end location:                  0/0\nEnd-of-backup record required:        no\nwal_level setting:                    logical\nwal_log_hints setting:                on\nmax_connections setting:              100\nmax_worker_processes setting:         32\nmax_wal_senders setting:              10\nmax_prepared_xacts setting:           0\nmax_locks_per_xact setting:           64\ntrack_commit_timestamp setting:       off\nMaximum data alignment:               8\nDatabase block size:                  8192\nBlocks per segment of large relation: 131072\nWAL block size:                       8192\nBytes per WAL segment:                16777216\nMaximum length of identifiers:        64\nMaximum columns in an index:          32\nMaximum size of a TOAST chunk:        1996\nSize of a large-object chunk:         2048\nDate/time type storage:               64-bit integers\nFloat8 argument passing:              by value\nData page checksum version:           0\nMock authentication nonce:            c953465ac918c0a055d07bf03b41423f2d229db5472e9ce8be3b0d79d8a0498a\n","pipe":"stdout","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"The PID file content is wrong, deleting it and assuming it's stale","file":"/var/lib/postgresql/data/pgdata/postmaster.pid","logging_pod":"cluster-example-4","err":"file does not exist","pidFileContents":""}
{"level":"info","ts":"2023-03-27T04:45:15Z","msg":"Instance is still down, will retry in 1 second","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"ade98070-0ce3-401a-b3a6-2c0cc221259a","uuid":"2af05f41-cc5a-11ed-946b-1e3d9aa083ad","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"2023-03-27 04:45:15.938 UTC [26] LOG:  redirecting log output to logging collector process","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"2023-03-27 04:45:15.938 UTC [26] HINT:  Future log output will appear in directory \"/controller/log\".","pipe":"stderr","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"2023-03-27 04:45:15.938 UTC [26] LOG:  ending log output to stderr","source":"/controller/log/postgres","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"2023-03-27 04:45:15.938 UTC [26] HINT:  Future log output will go to log destination \"csvlog\".","source":"/controller/log/postgres","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:15.938 UTC","process_id":"26","session_id":"64211f5b.1a","session_line_num":"1","session_start_time":"2023-03-27 04:45:15 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"ending log output to stderr","hint":"Future log output will go to log destination \"csvlog\".","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:15.938 UTC","process_id":"26","session_id":"64211f5b.1a","session_line_num":"2","session_start_time":"2023-03-27 04:45:15 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"starting PostgreSQL 15.2 (Debian 15.2-1.pgdg110+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 10.2.1-6) 10.2.1 20210110, 64-bit","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:15.938 UTC","process_id":"26","session_id":"64211f5b.1a","session_line_num":"3","session_start_time":"2023-03-27 04:45:15 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"listening on IPv4 address \"0.0.0.0\", port 5432","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:15.938 UTC","process_id":"26","session_id":"64211f5b.1a","session_line_num":"4","session_start_time":"2023-03-27 04:45:15 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"listening on IPv6 address \"::\", port 5432","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:15.948 UTC","process_id":"26","session_id":"64211f5b.1a","session_line_num":"5","session_start_time":"2023-03-27 04:45:15 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"listening on Unix socket \"/controller/run/.s.PGSQL.5432\"","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:15.957 UTC","process_id":"30","session_id":"64211f5b.1e","session_line_num":"1","session_start_time":"2023-03-27 04:45:15 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"database system was shut down at 2023-03-27 04:44:41 UTC","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:45:15Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:15Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:16.099 UTC","process_id":"30","session_id":"64211f5b.1e","session_line_num":"2","session_start_time":"2023-03-27 04:45:15 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"entering standby mode","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:16.384 UTC","process_id":"30","session_id":"64211f5b.1e","session_line_num":"3","session_start_time":"2023-03-27 04:45:15 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"consistent recovery state reached at 0/1A0000A0","backend_type":"startup","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:16.384 UTC","process_id":"30","session_id":"64211f5b.1e","session_line_num":"4","session_start_time":"2023-03-27 04:45:15 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"invalid record length at 0/1A0000A0: wanted 24, got 0","backend_type":"startup","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:16.384 UTC","process_id":"26","session_id":"64211f5b.1a","session_line_num":"6","session_start_time":"2023-03-27 04:45:15 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"database system is ready to accept read-only connections","backend_type":"postmaster","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:16.396 UTC","process_id":"49","session_id":"64211f5c.31","session_line_num":"1","session_start_time":"2023-03-27 04:45:16 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"fetching timeline history file for timeline 7 from primary server","backend_type":"walreceiver","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:16.403 UTC","process_id":"49","session_id":"64211f5c.31","session_line_num":"2","session_start_time":"2023-03-27 04:45:16 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"started streaming WAL from primary at 0/1A000000 on timeline 6","backend_type":"walreceiver","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:16.403 UTC","process_id":"49","session_id":"64211f5c.31","session_line_num":"3","session_start_time":"2023-03-27 04:45:16 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"replication terminated by primary server","detail":"End of WAL reached on timeline 6 at 0/1A0000A0.","backend_type":"walreceiver","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:16.403 UTC","process_id":"49","session_id":"64211f5c.31","session_line_num":"4","session_start_time":"2023-03-27 04:45:16 UTC","transaction_id":"0","error_severity":"FATAL","sql_state_code":"57P01","message":"terminating walreceiver process due to administrator command","backend_type":"walreceiver","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"fdea2af4-b868-47b4-a633-6c1ec660cc66","uuid":"2b6628e2-cc5a-11ed-946b-1e3d9aa083ad","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"fdea2af4-b868-47b4-a633-6c1ec660cc66","uuid":"2b6628e2-cc5a-11ed-946b-1e3d9aa083ad","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:16.897 UTC","process_id":"30","session_id":"64211f5b.1e","session_line_num":"5","session_start_time":"2023-03-27 04:45:15 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"new target timeline is 7","backend_type":"startup","query_id":"0"}}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"98dc4cfe-d928-47e3-ba0a-4394205bad36","uuid":"2b9c8818-cc5a-11ed-946b-1e3d9aa083ad","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"98dc4cfe-d928-47e3-ba0a-4394205bad36","uuid":"2b9c8818-cc5a-11ed-946b-1e3d9aa083ad","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:16Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Reconciling Cluster","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"dc98151b-0695-4647-a0f0-d41dad1591ef","uuid":"2ba63961-cc5a-11ed-946b-1e3d9aa083ad","caller":"internal/management/controller/instance_controller.go:110","logging_pod":"cluster-example-4","cluster":{"apiVersion":"postgresql.cnpg.io/v1","kind":"Cluster","namespace":"default","name":"cluster-example"}}
{"level":"debug","ts":"2023-03-27T04:45:16Z","msg":"Reconciling custom monitoring queries","controller":"cluster","controllerGroup":"postgresql.cnpg.io","controllerKind":"Cluster","Cluster":{"name":"cluster-example","namespace":"default"},"namespace":"default","name":"cluster-example","reconcileID":"dc98151b-0695-4647-a0f0-d41dad1591ef","uuid":"2ba63961-cc5a-11ed-946b-1e3d9aa083ad","caller":"internal/management/controller/instance_controller.go:735","logging_pod":"cluster-example-4"}
{"level":"debug","ts":"2023-03-27T04:45:17Z","msg":"Cached object request received","caller":"pkg/management/log/log.go:181","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:17Z","logger":"wal-restore","msg":"tried restoring WALs, but no backup was configured","logging_pod":"cluster-example-4"}
{"level":"info","ts":"2023-03-27T04:45:17Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:17.205 UTC","process_id":"103","session_id":"64211f5d.67","session_line_num":"1","session_start_time":"2023-03-27 04:45:17 UTC","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"started streaming WAL from primary at 0/1A000000 on timeline 7","backend_type":"walreceiver","query_id":"0"}}
{"level":"info","ts":"2023-03-27T04:45:18Z","logger":"postgres","msg":"record","logging_pod":"cluster-example-4","record":{"log_time":"2023-03-27 04:45:18.181 UTC","process_id":"30","session_id":"64211f5b.1e","session_line_num":"6","session_start_time":"2023-03-27 04:45:15 UTC","virtual_transaction_id":"1/0","transaction_id":"0","error_severity":"LOG","sql_state_code":"00000","message":"redo starts at 0/1A0000A0","backend_type":"startup","query_id":"0"}}
